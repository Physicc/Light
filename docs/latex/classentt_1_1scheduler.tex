\hypertarget{classentt_1_1scheduler}{}\doxysection{entt\+::scheduler$<$ Delta $>$ Class Template Reference}
\label{classentt_1_1scheduler}\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}


Cooperative scheduler for processes.  




{\ttfamily \#include $<$entt.\+hpp$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classentt_1_1scheduler_afcec47d6ec28a994af2a7097348ce59f}\label{classentt_1_1scheduler_afcec47d6ec28a994af2a7097348ce59f}} 
using \mbox{\hyperlink{classentt_1_1scheduler_afcec47d6ec28a994af2a7097348ce59f}{size\+\_\+type}} = std\+::size\+\_\+t
\begin{DoxyCompactList}\small\item\em Unsigned integer type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classentt_1_1scheduler_a49a81e662dc26831f4a951a715705d6e}\label{classentt_1_1scheduler_a49a81e662dc26831f4a951a715705d6e}} 
\mbox{\hyperlink{classentt_1_1scheduler_a49a81e662dc26831f4a951a715705d6e}{scheduler}} ()=default
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classentt_1_1scheduler_af582ffea72368a83ea4dd7d9e563f715}\label{classentt_1_1scheduler_af582ffea72368a83ea4dd7d9e563f715}} 
\mbox{\hyperlink{classentt_1_1scheduler_af582ffea72368a83ea4dd7d9e563f715}{scheduler}} (\mbox{\hyperlink{classentt_1_1scheduler}{scheduler}} \&\&)=default
\begin{DoxyCompactList}\small\item\em Default move constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classentt_1_1scheduler}{scheduler}} \& \mbox{\hyperlink{classentt_1_1scheduler_aea6ab78dbf00ba17c6e828ee0505afd9}{operator=}} (\mbox{\hyperlink{classentt_1_1scheduler}{scheduler}} \&\&)=default
\begin{DoxyCompactList}\small\item\em Default move assignment operator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classentt_1_1scheduler_afcec47d6ec28a994af2a7097348ce59f}{size\+\_\+type}} \mbox{\hyperlink{classentt_1_1scheduler_ab0c473e6d4733bdb78f3dc26147de4ad}{size}} () const E\+N\+T\+T\+\_\+\+N\+O\+E\+X\+C\+E\+PT
\begin{DoxyCompactList}\small\item\em Number of processes currently scheduled. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classentt_1_1scheduler_a817d93653aec6a479b920143bd21edbb}{empty}} () const E\+N\+T\+T\+\_\+\+N\+O\+E\+X\+C\+E\+PT
\begin{DoxyCompactList}\small\item\em Returns true if at least a process is currently scheduled. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classentt_1_1scheduler_a5a0f92dbe54b58751237a567e86805e0}{clear}} ()
\begin{DoxyCompactList}\small\item\em Discards all scheduled processes. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Proc , typename... Args$>$ }\\auto \mbox{\hyperlink{classentt_1_1scheduler_a729c83e1983123c642a08cda67e486e3}{attach}} (Args \&\&... args)
\begin{DoxyCompactList}\small\item\em Schedules a process for the next tick. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Func $>$ }\\auto \mbox{\hyperlink{classentt_1_1scheduler_a871812d08af8483316d1ce5d1e9d686f}{attach}} (Func \&\&func)
\begin{DoxyCompactList}\small\item\em Schedules a process for the next tick. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classentt_1_1scheduler_a827eae426378df9ed9190752156a4154}{update}} (const Delta delta, void $\ast$data=nullptr)
\begin{DoxyCompactList}\small\item\em Updates all scheduled processes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classentt_1_1scheduler_aabc25388bff1b3b0770f913f54b915f2}{abort}} (const bool immediately=false)
\begin{DoxyCompactList}\small\item\em Aborts all scheduled processes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Delta$>$\newline
class entt\+::scheduler$<$ Delta $>$}

Cooperative scheduler for processes. 

A cooperative scheduler runs processes and helps managing their life cycles.

Each process is invoked once per tick. If a process terminates, it\textquotesingle{}s removed automatically from the scheduler and it\textquotesingle{}s never invoked again.~\newline
 A process can also have a child. In this case, the process is replaced with its child when it terminates if it returns with success. In case of errors, both the process and its child are discarded.

Example of use (pseudocode)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{classentt_1_1scheduler_a49a81e662dc26831f4a951a715705d6e}{scheduler}}.attach([](\textcolor{keyword}{auto} delta, \textcolor{keywordtype}{void} *, \textcolor{keyword}{auto} succeed, \textcolor{keyword}{auto} fail) \{}
\DoxyCodeLine{    \textcolor{comment}{// code}}
\DoxyCodeLine{\}).then<my\_process>(arguments...);}
\end{DoxyCode}


In order to invoke all scheduled processes, call the {\ttfamily update} member function passing it the elapsed time to forward to the tasks.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classentt_1_1process}{process}}
\end{DoxySeeAlso}

\begin{DoxyTemplParams}{Template Parameters}
{\em Delta} & Type to use to provide elapsed time. \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classentt_1_1scheduler_aabc25388bff1b3b0770f913f54b915f2}\label{classentt_1_1scheduler_aabc25388bff1b3b0770f913f54b915f2}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!abort@{abort}}
\index{abort@{abort}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{abort()}{abort()}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
void \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::abort (\begin{DoxyParamCaption}\item[{const bool}]{immediately = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Aborts all scheduled processes. 

Unless an immediate operation is requested, the abort is scheduled for the next tick. Processes won\textquotesingle{}t be executed anymore in any case.~\newline
 Once a process is fully aborted and thus finished, it\textquotesingle{}s discarded along with its child, if any.


\begin{DoxyParams}{Parameters}
{\em immediately} & Requests an immediate operation. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classentt_1_1scheduler_a729c83e1983123c642a08cda67e486e3}\label{classentt_1_1scheduler_a729c83e1983123c642a08cda67e486e3}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!attach@{attach}}
\index{attach@{attach}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
template$<$typename Proc , typename... Args$>$ \\
auto \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::attach (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Schedules a process for the next tick. 

Returned value is an opaque object that can be used to attach a child to the given process. The child is automatically scheduled when the process terminates and only if the process returns with success.

Example of use (pseudocode)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// schedules a task in the form of a process class}}
\DoxyCodeLine{\mbox{\hyperlink{classentt_1_1scheduler_a49a81e662dc26831f4a951a715705d6e}{scheduler}}.attach<my\_process>(arguments...)}
\DoxyCodeLine{\textcolor{comment}{// appends a child in the form of a lambda function}}
\DoxyCodeLine{.then([](\textcolor{keyword}{auto} delta, \textcolor{keywordtype}{void} *, \textcolor{keyword}{auto} succeed, \textcolor{keyword}{auto} fail) \{}
\DoxyCodeLine{    \textcolor{comment}{// code}}
\DoxyCodeLine{\})}
\DoxyCodeLine{\textcolor{comment}{// appends a child in the form of another process class}}
\DoxyCodeLine{.then<my\_other\_process>();}
\end{DoxyCode}



\begin{DoxyTemplParams}{Template Parameters}
{\em Proc} & Type of process to schedule. \\
\hline
{\em Args} & Types of arguments to use to initialize the process. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em args} & Parameters to use to initialize the process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An opaque object to use to concatenate processes. 
\end{DoxyReturn}
\mbox{\Hypertarget{classentt_1_1scheduler_a871812d08af8483316d1ce5d1e9d686f}\label{classentt_1_1scheduler_a871812d08af8483316d1ce5d1e9d686f}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!attach@{attach}}
\index{attach@{attach}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
template$<$typename Func $>$ \\
auto \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::attach (\begin{DoxyParamCaption}\item[{Func \&\&}]{func }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Schedules a process for the next tick. 

A process can be either a lambda or a functor. The scheduler wraps both of them in a process adaptor internally.~\newline
 The signature of the function call operator should be equivalent to the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{void(Delta delta, \textcolor{keywordtype}{void} *data, \textcolor{keyword}{auto} succeed, \textcolor{keyword}{auto} fail);}
\end{DoxyCode}


Where\+:


\begin{DoxyItemize}
\item {\ttfamily delta} is the elapsed time.
\item {\ttfamily data} is an opaque pointer to user data if any, {\ttfamily nullptr} otherwise.
\item {\ttfamily succeed} is a function to call when a process terminates with success.
\item {\ttfamily fail} is a function to call when a process terminates with errors.
\end{DoxyItemize}

The signature of the function call operator of both {\ttfamily succeed} and {\ttfamily fail} is equivalent to the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{void();}
\end{DoxyCode}


Returned value is an opaque object that can be used to attach a child to the given process. The child is automatically scheduled when the process terminates and only if the process returns with success.

Example of use (pseudocode)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// schedules a task in the form of a lambda function}}
\DoxyCodeLine{\mbox{\hyperlink{classentt_1_1scheduler_a49a81e662dc26831f4a951a715705d6e}{scheduler}}.attach([](\textcolor{keyword}{auto} delta, \textcolor{keywordtype}{void} *, \textcolor{keyword}{auto} succeed, \textcolor{keyword}{auto} fail) \{}
\DoxyCodeLine{    \textcolor{comment}{// code}}
\DoxyCodeLine{\})}
\DoxyCodeLine{\textcolor{comment}{// appends a child in the form of another lambda function}}
\DoxyCodeLine{.then([](\textcolor{keyword}{auto} delta, \textcolor{keywordtype}{void} *, \textcolor{keyword}{auto} succeed, \textcolor{keyword}{auto} fail) \{}
\DoxyCodeLine{    \textcolor{comment}{// code}}
\DoxyCodeLine{\})}
\DoxyCodeLine{\textcolor{comment}{// appends a child in the form of a process class}}
\DoxyCodeLine{.then<my\_process>(arguments...);}
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structentt_1_1process__adaptor}{process\+\_\+adaptor}}
\end{DoxySeeAlso}

\begin{DoxyTemplParams}{Template Parameters}
{\em Func} & Type of process to schedule. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em func} & Either a lambda or a functor to use as a process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An opaque object to use to concatenate processes. 
\end{DoxyReturn}
\mbox{\Hypertarget{classentt_1_1scheduler_a5a0f92dbe54b58751237a567e86805e0}\label{classentt_1_1scheduler_a5a0f92dbe54b58751237a567e86805e0}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!clear@{clear}}
\index{clear@{clear}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
void \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Discards all scheduled processes. 

Processes aren\textquotesingle{}t aborted. They are discarded along with their children and never executed again. \mbox{\Hypertarget{classentt_1_1scheduler_a817d93653aec6a479b920143bd21edbb}\label{classentt_1_1scheduler_a817d93653aec6a479b920143bd21edbb}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!empty@{empty}}
\index{empty@{empty}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
bool \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns true if at least a process is currently scheduled. 

\begin{DoxyReturn}{Returns}
True if there are scheduled processes, false otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{classentt_1_1scheduler_aea6ab78dbf00ba17c6e828ee0505afd9}\label{classentt_1_1scheduler_aea6ab78dbf00ba17c6e828ee0505afd9}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!operator=@{operator=}}
\index{operator=@{operator=}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
\mbox{\hyperlink{classentt_1_1scheduler}{scheduler}}\& \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classentt_1_1scheduler}{scheduler}}$<$ Delta $>$ \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



Default move assignment operator. 

\begin{DoxyReturn}{Returns}
This scheduler. 
\end{DoxyReturn}
\mbox{\Hypertarget{classentt_1_1scheduler_ab0c473e6d4733bdb78f3dc26147de4ad}\label{classentt_1_1scheduler_ab0c473e6d4733bdb78f3dc26147de4ad}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!size@{size}}
\index{size@{size}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
\mbox{\hyperlink{classentt_1_1scheduler_afcec47d6ec28a994af2a7097348ce59f}{size\+\_\+type}} \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Number of processes currently scheduled. 

\begin{DoxyReturn}{Returns}
Number of processes currently scheduled. 
\end{DoxyReturn}
\mbox{\Hypertarget{classentt_1_1scheduler_a827eae426378df9ed9190752156a4154}\label{classentt_1_1scheduler_a827eae426378df9ed9190752156a4154}} 
\index{entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}!update@{update}}
\index{update@{update}!entt::scheduler$<$ Delta $>$@{entt::scheduler$<$ Delta $>$}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily template$<$typename Delta $>$ \\
void \mbox{\hyperlink{classentt_1_1scheduler}{entt\+::scheduler}}$<$ Delta $>$\+::update (\begin{DoxyParamCaption}\item[{const Delta}]{delta,  }\item[{void $\ast$}]{data = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Updates all scheduled processes. 

All scheduled processes are executed in no specific order.~\newline
 If a process terminates with success, it\textquotesingle{}s replaced with its child, if any. Otherwise, if a process terminates with an error, it\textquotesingle{}s removed along with its child.


\begin{DoxyParams}{Parameters}
{\em delta} & Elapsed time. \\
\hline
{\em data} & Optional data. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Light\+Framework/libs/entt/entt.\+hpp\end{DoxyCompactItemize}
